.dropdown.is-hoverable.is-right('[class.is-active]'='(error$ | async) || (isAnyNewNotification$ | async)', '#dropdown'='')
  .dropdown-trigger(title='Show notifications')
    a
      span.icon.is-white.has-text-white.px-3
        i.far.fa-bell
      .indicator('[class.is-hidden]'='!(isAnyNewNotification$ | async)')
  .dropdown-menu(role='notifications')
    .dropdown-content.notification-messages
      //- Error
      .dropdown-item('*ngIf'='error$ | async as error; else notifications')
        p.has-text-danger {{error}}
        button.button.is-fullwidth.is-small('(click)'='hideError()')
          span.icon
            i.fas.fa-times
          span Ignore and show notifications
      ng-template('#notifications'='')
        ng-container('*ngIf'='allNotifications$ | async as notifications; else loading')
          a.dropdown-item.mark-all-as-read('[class.is-hidden]'='!(isAnyNewNotification$ | async)', '(click)'='markNewAsRead()')
            span.icon.mr-1
              i.fas.fa-check
            span Mark as read
          ng-container('*ngFor'='let notification of notifications; last as isLast')
            .dropdown-item.notif
              .line.first {{notification.text}}
              .line.second
                a.indicator('[class.has-background-primary]'='notification.status === "new"',
                '[class.has-background-grey]'='notification.status !== "new"',
                '(click)'='markAsRead(notification.id)',
                title='Mark as read')
                .has-text-grey-light.is-size-7 {{notification.createdAt.toDate() | date:dateFormat}}
                a.icon.button--delete.ml-auto('(click)'='delete(notification.id)')
                  i.far.fa-trash-alt
            hr.dropdown-divider('[ngClass]'='{"is-hidden": isLast}')

          .last-items-shown('*ngIf'='notifications.length === notificationsLimit') Last {{notificationsLimit}} items shown

          .dropdown-item.notif('*ngIf'='!notifications.length')
            span No notifications yet&nbsp;
            span.ml-auto ※\(^o^)/※


        ng-template('#loading'='')
          .dropdown-item
            span Loading...

