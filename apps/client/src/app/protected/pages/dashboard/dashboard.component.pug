.widget.widget--read-today
  .widget__header
    h2.widget__header__title Read Today
      span.widget__header__subtitle (sort by: priority, recent)
  .widget__body.is-paddingless
    ng-container(*ngIf="readTodayItems$ | async as randomItems")
      ng-container(*ngIf="randomItems.length; else noItems")
        tt-list(
          [items]="randomItems",
          [tags]="tagService.tags$ | async",
          (startReading)="itemService.startReading($event)",
          (finishReading)="itemService.finishReading($event)",
          (undoReading)="itemService.markAsNew($event)",
          (toggleTag)="itemService.toggleTag($event.itemId, $event.isSelected, $event.tagId)",
          (toggleFavourite)="itemService.toggleFavourite($event.id, $event.isFavourite)",
          (delete)="itemService.remove($event)",
          (retryURLParsing)="itemService.retryURLParsing($event)",
          (tagClick)="routerHelper.toItemsWithFilter({tagId:$event})",
          (changeRating)="itemService.changeRating($event.id, $event.rating)",
          (changeComment)="itemService.changeComment($event.id, $event.comment)",
          (setPriority)="itemService.setPriority($event.item.id, $event.priority)",
          (setTitle)="itemService.setTitle($event.item.id, $event.title)",
          (setURL)="itemService.setURL($event.item.id, $event.url)",
        )
  ng-template("#noItems"="")
    .widget__info
      p Nothing to recommend at the moment.
      div
        a.inline-block((click)="focusOnAddInput()") Try add a link ðŸ”—
        div or
        a.inline-block(routerLink="/app/import") Import your bookmarks ðŸ”–


ng-container(*ngIf="openedItems$ | async as openedItems")
  ng-container(*ngIf="openedItems.length")
    .widget.widget--recently-opened
      .widget__header
        h2.widget__header__title Don't forget to finish:
      .widget__body.is-paddingless
        tt-list(
          [items]="openedItems",
          [tags]="tagService.tags$ | async",
          (startReading)="itemService.startReading($event)",
          (finishReading)="itemService.finishReading($event)",
          (undoReading)="itemService.markAsNew($event)",
          (toggleTag)="itemService.toggleTag($event.itemId, $event.isSelected, $event.tagId)",
          (toggleFavourite)="itemService.toggleFavourite($event.id, $event.isFavourite)",
          (delete)="itemService.remove($event)",
          (retryURLParsing)="itemService.retryURLParsing($event)",
          (tagClick)="routerHelper.toItemsWithFilter({tagId:$event})",
          (changeRating)="itemService.changeRating($event.id, $event.rating)",
          (changeComment)="itemService.changeComment($event.id, $event.comment)",
          (setPriority)="itemService.setPriority($event.item.id, $event.priority)",
          (setTitle)="itemService.setTitle($event.item.id, $event.title)",
          (setURL)="itemService.setURL($event.item.id, $event.url)",
        )
        .more
          a(*ngIf="openedItems.length >= RECENT_ITEMS_LIMIT", routerLink="/app/items", [queryParams]="{status: 'opened'}")
            span More recently opened items
            span.icon
              i.fas.fa-chevron-right


.widget.widget--statistics
  .widget__header
    h2.widget__header__title Statistics
      span.widget__header__subtitle (do you read or just save?)
    .widget__header__action
      a.icon((click)="prevMonth()", title="Show prev month")
        i.fas.fa-chevron-left
      span {{monthNames[(month$ | async) - 1]}} {{year$ | async}}
      a.icon.icon-alignment--last(*ngIf="doesNextMonthExist$ | async", (click)="nextMonth()", title="Show next month")
        i.fas.fa-chevron-right
  .widget__body.widget__body--is-side-paddingless
    tt-dashboard-statistics([statistics]="statistics$ | async")
  .widget__info(*ngIf="!(statistics$ | async)")
    div No statistics for this period.
    div Wanna read something?
